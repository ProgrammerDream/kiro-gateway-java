import{_ as w,o as v,c as y,a as r,b as s,w as i,d as V,r as a,u as b,e as h,f as k,E as u,g as d}from"./index-DX4KFW2y.js";import{a as x}from"./index-D7fQwz9Q.js";const B={class:"login-container"},C={class:"login-card"},E={__name:"LoginView",setup(K){const p=b(),t=d(""),n=d(!1);async function l(){if(t.value){n.value=!0;try{const o=await x.login(t.value);o.success?(localStorage.setItem("admin_token",o.token),p.push("/admin/dashboard")):u.error(o.message||"登录失败")}catch{u.error("登录请求失败")}finally{n.value=!1}}}return(o,e)=>{const c=a("el-input"),m=a("el-form-item"),_=a("el-button"),f=a("el-form");return v(),y("div",B,[r("div",C,[e[2]||(e[2]=r("h2",null,"Kiro Gateway",-1)),e[3]||(e[3]=r("p",{class:"subtitle"},"管理面板登录",-1)),s(f,{onSubmit:V(l,["prevent"])},{default:i(()=>[s(m,null,{default:i(()=>[s(c,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=g=>t.value=g),type:"password",placeholder:"请输入管理密码",size:"large","show-password":"",onKeyup:h(l,["enter"])},null,8,["modelValue"])]),_:1}),s(_,{type:"primary",size:"large",style:{width:"100%"},onClick:l,loading:n.value},{default:i(()=>[...e[1]||(e[1]=[k(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})])])}}},z=w(E,[["__scopeId","data-v-36268fee"]]);export{z as default};
