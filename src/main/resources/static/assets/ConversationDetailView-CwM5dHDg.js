import{j as Le,k as Te,g as de,l as Ee,n as Pe,m as Ae,b as C,f as $,p as Ie,F as Fe,_ as _e,r as Q,o as X,c as ee,a as B,t as K,q as Be,w as A,E as ve,h as De,s as Me,v as ye,x as He}from"./index--31tCAGN.js";import{a as Ke}from"./index-CF_AK63A.js";var qe={207:(e,r,t)=>{e.exports=t(452)},452:e=>{var r=function(t){var a,N=Object.prototype,b=N.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},h=p.iterator||"@@iterator",S=p.asyncIterator||"@@asyncIterator",x=p.toStringTag||"@@toStringTag";function V(n,o,c){return Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}),n[o]}try{V({},"")}catch{V=function(o,c,f){return o[c]=f}}function O(n,o,c,f){var u=o&&o.prototype instanceof z?o:z,g=Object.create(u.prototype),_=new s(f||[]);return g._invoke=function(L,P,d){var j=G;return function(F,oe){if(j===M)throw new Error("Generator is already running");if(j===E){if(F==="throw")throw oe;return m()}for(d.method=F,d.arg=oe;;){var ie=d.delegate;if(ie){var ue=Z(ie,d);if(ue){if(ue===T)continue;return ue}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(j===G)throw j=E,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);j=M;var ae=q(L,P,d);if(ae.type==="normal"){if(j=d.done?E:J,ae.arg===T)continue;return{value:ae.arg,done:d.done}}ae.type==="throw"&&(j=E,d.method="throw",d.arg=ae.arg)}}}(n,c,_),g}function q(n,o,c){try{return{type:"normal",arg:n.call(o,c)}}catch(f){return{type:"throw",arg:f}}}t.wrap=O;var G="suspendedStart",J="suspendedYield",M="executing",E="completed",T={};function z(){}function W(){}function R(){}var te={};V(te,h,function(){return this});var k=Object.getPrototypeOf,y=k&&k(k(v([])));y&&y!==N&&b.call(y,h)&&(te=y);var w=R.prototype=z.prototype=Object.create(te);function H(n){["next","throw","return"].forEach(function(o){V(n,o,function(c){return this._invoke(o,c)})})}function I(n,o){function c(u,g,_,L){var P=q(n[u],n,g);if(P.type!=="throw"){var d=P.arg,j=d.value;return j&&typeof j=="object"&&b.call(j,"__await")?o.resolve(j.__await).then(function(F){c("next",F,_,L)},function(F){c("throw",F,_,L)}):o.resolve(j).then(function(F){d.value=F,_(d)},function(F){return c("throw",F,_,L)})}L(P.arg)}var f;this._invoke=function(u,g){function _(){return new o(function(L,P){c(u,g,L,P)})}return f=f?f.then(_,_):_()}}function Z(n,o){var c=n.iterator[o.method];if(c===a){if(o.delegate=null,o.method==="throw"){if(n.iterator.return&&(o.method="return",o.arg=a,Z(n,o),o.method==="throw"))return T;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var f=q(c,n.iterator,o.arg);if(f.type==="throw")return o.method="throw",o.arg=f.arg,o.delegate=null,T;var u=f.arg;return u?u.done?(o[n.resultName]=u.value,o.next=n.nextLoc,o.method!=="return"&&(o.method="next",o.arg=a),o.delegate=null,T):u:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,T)}function D(n){var o={tryLoc:n[0]};1 in n&&(o.catchLoc=n[1]),2 in n&&(o.finallyLoc=n[2],o.afterLoc=n[3]),this.tryEntries.push(o)}function l(n){var o=n.completion||{};o.type="normal",delete o.arg,n.completion=o}function s(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(D,this),this.reset(!0)}function v(n){if(n){var o=n[h];if(o)return o.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length)){var c=-1,f=function u(){for(;++c<n.length;)if(b.call(n,c))return u.value=n[c],u.done=!1,u;return u.value=a,u.done=!0,u};return f.next=f}}return{next:m}}function m(){return{value:a,done:!0}}return W.prototype=R,V(w,"constructor",R),V(R,"constructor",W),W.displayName=V(R,x,"GeneratorFunction"),t.isGeneratorFunction=function(n){var o=typeof n=="function"&&n.constructor;return!!o&&(o===W||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,R):(n.__proto__=R,V(n,x,"GeneratorFunction")),n.prototype=Object.create(w),n},t.awrap=function(n){return{__await:n}},H(I.prototype),V(I.prototype,S,function(){return this}),t.AsyncIterator=I,t.async=function(n,o,c,f,u){u===void 0&&(u=Promise);var g=new I(O(n,o,c,f),u);return t.isGeneratorFunction(o)?g:g.next().then(function(_){return _.done?_.value:g.next()})},H(w),V(w,x,"Generator"),V(w,h,function(){return this}),V(w,"toString",function(){return"[object Generator]"}),t.keys=function(n){var o=[];for(var c in n)o.push(c);return o.reverse(),function f(){for(;o.length;){var u=o.pop();if(u in n)return f.value=u,f.done=!1,f}return f.done=!0,f}},t.values=v,s.prototype={constructor:s,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(l),!n)for(var o in this)o.charAt(0)==="t"&&b.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=a)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function c(P,d){return g.type="throw",g.arg=n,o.next=P,d&&(o.method="next",o.arg=a),!!d}for(var f=this.tryEntries.length-1;f>=0;--f){var u=this.tryEntries[f],g=u.completion;if(u.tryLoc==="root")return c("end");if(u.tryLoc<=this.prev){var _=b.call(u,"catchLoc"),L=b.call(u,"finallyLoc");if(_&&L){if(this.prev<u.catchLoc)return c(u.catchLoc,!0);if(this.prev<u.finallyLoc)return c(u.finallyLoc)}else if(_){if(this.prev<u.catchLoc)return c(u.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return c(u.finallyLoc)}}}},abrupt:function(n,o){for(var c=this.tryEntries.length-1;c>=0;--c){var f=this.tryEntries[c];if(f.tryLoc<=this.prev&&b.call(f,"finallyLoc")&&this.prev<f.finallyLoc){var u=f;break}}u&&(n==="break"||n==="continue")&&u.tryLoc<=o&&o<=u.finallyLoc&&(u=null);var g=u?u.completion:{};return g.type=n,g.arg=o,u?(this.method="next",this.next=u.finallyLoc,T):this.complete(g)},complete:function(n,o){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&o&&(this.next=o),T},finish:function(n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.finallyLoc===n)return this.complete(c.completion,c.afterLoc),l(c),T}},catch:function(n){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc===n){var f=c.completion;if(f.type==="throw"){var u=f.arg;l(c)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(n,o,c){return this.delegate={iterator:v(n),resultName:o,nextLoc:c},this.method==="next"&&(this.arg=a),T}},t}(e.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},me={};function U(e){var r=me[e];if(r!==void 0)return r.exports;var t=me[e]={exports:{}};return qe[e](t,t.exports,U),t.exports}U.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return U.d(r,{a:r}),r},U.d=(e,r)=>{for(var t in r)U.o(r,t)&&!U.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},U.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var je={};function fe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Se(e,r){if(e){if(typeof e=="string")return fe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fe(e,r):void 0}}function ce(e){return function(r){if(Array.isArray(r))return fe(r)}(e)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(e)||Se(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function le(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}U.d(je,{A:()=>ze});const i=(ge={Fragment:()=>Fe,computed:()=>Ie,createTextVNode:()=>$,createVNode:()=>C,defineComponent:()=>Ae,nextTick:()=>Pe,reactive:()=>Ee,ref:()=>de,watch:()=>Te,watchEffect:()=>Le},se={},U.d(se,ge),se),Re=(0,i.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,r=this.onClick;return(0,i.createVNode)("span",{class:"vjs-tree-brackets",onClick:r},[e])}}),$e=(0,i.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,r){var t=r.emit;return{uiType:(0,i.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,i.computed)({get:function(){return e.checked},set:function(a){return t("update:modelValue",a)}})}},render:function(){var e=this.uiType,r=this.model,t=this.$emit;return(0,i.createVNode)("label",{class:["vjs-check-controller",r?"is-checked":""],onClick:function(a){return a.stopPropagation()}},[(0,i.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,i.createVNode)("input",{checked:r,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return t("change",r)}},null)])}}),Ge=(0,i.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,r=this.onClick,t=e==="objectStart"||e==="arrayStart";return t||e==="objectCollapsed"||e==="arrayCollapsed"?(0,i.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(t?"open":"close"),onClick:r},[(0,i.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,i.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var ge,se;function he(e){return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},he(e)}function Oe(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ne(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(arguments.length>3?arguments[3]:void 0)||{},N=a.key,b=a.index,p=a.type,h=p===void 0?"content":p,S=a.showComma,x=S!==void 0&&S,V=a.length,O=V===void 0?1:V,q=Oe(e);if(q==="array"){var G=be(e.map(function(E,T,z){return ne(E,"".concat(r,"[").concat(T,"]"),t+1,{index:T,showComma:T!==z.length-1,length:O,type:h})}));return[ne("[",r,t,{showComma:!1,key:N,length:e.length,type:"arrayStart"})[0]].concat(G,ne("]",r,t,{showComma:x,length:e.length,type:"arrayEnd"})[0])}if(q==="object"){var J=Object.keys(e),M=be(J.map(function(E,T,z){return ne(e[E],/^[a-zA-Z_]\w*$/.test(E)?"".concat(r,".").concat(E):"".concat(r,'["').concat(E,'"]'),t+1,{key:E,showComma:T!==z.length-1,length:O,type:h})}));return[ne("{",r,t,{showComma:!1,key:N,index:b,length:J.length,type:"objectStart"})[0]].concat(M,ne("}",r,t,{showComma:x,length:J.length,type:"objectEnd"})[0])}return[{content:e,level:t,key:N,index:b,path:r,showComma:x,length:O,type:h}]}function be(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var r=ce(e),t=[];r.length;){var a=r.shift();Array.isArray(a)?r.unshift.apply(r,ce(a)):t.push(a)}return t}function pe(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(he(e)!=="object")return e;if(r.get(e))return r.get(e);if(Array.isArray(e)){var t=e.map(function(b){return pe(b,r)});return r.set(e,t),t}var a={};for(var N in e)a[N]=pe(e[N],r);return r.set(e,a),a}function we(e,r,t,a,N,b,p){try{var h=e[b](p),S=h.value}catch(x){return void t(x)}h.done?r(S):Promise.resolve(S).then(a,N)}var Ye=U(207),ke=U.n(Ye);function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(N){return Object.getOwnPropertyDescriptor(e,N).enumerable})),t.push.apply(t,a)}return t}function xe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ne(Object(t),!0).forEach(function(a){le(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Ve={data:{type:[String,Number,Boolean,Array,Object],default:null},rootPath:{type:String,default:"root"},indent:{type:Number,default:2},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,renderNodeActions:{type:[Boolean,Function],default:void 0},selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onNodeMouseover:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const Je=(0,i.defineComponent)({name:"TreeNode",props:xe(xe({},Ve),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,r){var t=r.emit,a=(0,i.computed)(function(){return Oe(e.node.content)}),N=(0,i.computed)(function(){return"vjs-value vjs-value-".concat(a.value)}),b=(0,i.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),p=(0,i.computed)(function(){return e.selectableType==="multiple"}),h=(0,i.computed)(function(){return e.selectableType==="single"}),S=(0,i.computed)(function(){return e.nodeSelectable(e.node)&&(p.value||h.value)}),x=(0,i.reactive)({editing:!1}),V=function(k){var y,w,H=(w=(y=k.target)===null||y===void 0?void 0:y.value)==="null"?null:w==="undefined"?void 0:w==="true"||w!=="false"&&(w[0]+w[w.length-1]==='""'||w[0]+w[w.length-1]==="''"?w.slice(1,-1):typeof Number(w)=="number"&&!isNaN(Number(w))||w==="NaN"?Number(w):w);t("valueChange",H,e.node.path)},O=(0,i.computed)(function(){var k,y=(k=e.node)===null||k===void 0?void 0:k.content;return y===null?y="null":y===void 0&&(y="undefined"),a.value==="string"?'"'.concat(y,'"'):y+""}),q=function(){var k=e.renderNodeValue;return k?k({node:e.node,defaultValue:O.value}):O.value},G=function(){t("bracketsClick",!e.collapsed,e.node)},J=function(){t("iconClick",!e.collapsed,e.node)},M=function(){t("selectedChange",e.node)},E=function(){t("nodeClick",e.node),S.value&&e.selectOnClickNode&&t("selectedChange",e.node)},T=function(){t("nodeMouseover",e.node)},z=function(k){if(e.editable&&!x.editing){x.editing=!0;var y=function w(H){var I;H.target!==k.target&&((I=H.target)===null||I===void 0?void 0:I.parentElement)!==k.target&&(x.editing=!1,document.removeEventListener("click",w))};document.removeEventListener("click",y),document.addEventListener("click",y)}},W=function(){var k=(0,i.ref)(!1),y=function(){var w,H=(w=ke().mark(function I(Z){return ke().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,navigator.clipboard.writeText(Z);case 3:k.value=!0,setTimeout(function(){k.value=!1},300),D.next=10;break;case 7:D.prev=7,D.t0=D.catch(0),console.error("[vue-json-pretty] Copy failed: ",D.t0);case 10:case"end":return D.stop()}},I,null,[[0,7]])}),function(){var I=this,Z=arguments;return new Promise(function(D,l){var s=w.apply(I,Z);function v(n){we(s,D,l,v,m,"next",n)}function m(n){we(s,D,l,v,m,"throw",n)}v(void 0)})});return function(I){return H.apply(this,arguments)}}();return{copy:y}}().copy,R=function(){var k=e.node,y=k.key,w=k.path,H=e.rootPath,I=new Function("data","return data".concat(w.slice(H.length)))(e.data),Z=JSON.stringify(y?le({},y,I):I,null,2);W(Z)},te=function(){var k=e.renderNodeActions;if(!k)return null;var y={copy:R};return typeof k=="function"?k({node:e.node,defaultActions:y}):(0,i.createVNode)("span",{onClick:R,class:"vjs-tree-node-actions-item"},[(0,i.createTextVNode)("copy")])};return function(){var k,y=e.node;return(0,i.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:E,onMouseover:T,style:e.style},[e.showLineNumber&&(0,i.createVNode)("span",{class:"vjs-node-index"},[y.id+1]),e.showSelectController&&S.value&&y.type!=="objectEnd"&&y.type!=="arrayEnd"&&(0,i.createVNode)($e,{isMultiple:p.value,checked:e.checked,onChange:M},null),(0,i.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(y.level)).map(function(w,H){return(0,i.createVNode)("div",{key:H,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},[Array.from(Array(e.indent)).map(function(){return(0,i.createVNode)(i.Fragment,null,[(0,i.createTextVNode)(" ")])})])}),e.showIcon&&(0,i.createVNode)(Ge,{nodeType:y.type,onClick:J},null)]),y.key&&(0,i.createVNode)("span",{class:"vjs-key"},[(k=e.renderNodeKey,k?k({node:e.node,defaultKey:b.value||""}):b.value),(0,i.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,i.createVNode)("span",null,[y.type!=="content"&&y.content?(0,i.createVNode)(Re,{data:y.content.toString(),onClick:G},null):(0,i.createVNode)("span",{class:N.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:z,onDblclick:e.editable&&e.editableTrigger==="dblclick"?z:void 0},[e.editable&&x.editing?(0,i.createVNode)("input",{value:O.value,onChange:V,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):q()]),y.showComma&&(0,i.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,i.createVNode)("span",{class:"vjs-comment"},[(0,i.createTextVNode)(" // "),y.length,(0,i.createTextVNode)(" items ")])]),e.renderNodeActions&&(0,i.createVNode)("span",{class:"vjs-tree-node-actions"},[te()])])}}});function Ce(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(N){return Object.getOwnPropertyDescriptor(e,N).enumerable})),t.push.apply(t,a)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ce(Object(t),!0).forEach(function(a){le(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}const ze=(0,i.defineComponent)({name:"Tree",props:Y(Y({},Ve),{},{collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},dynamicHeight:{type:Boolean,default:!0},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue","renderNodeActions"],emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,r){var t=r.emit,a=r.slots,N=(0,i.ref)(),b=(0,i.computed)(function(){return ne(e.data,e.rootPath)}),p=function(l,s){return b.value.reduce(function(v,m){var n,o=m.level>=l||m.length>=s,c=(n=e.pathCollapsible)===null||n===void 0?void 0:n.call(e,m);return m.type!=="objectStart"&&m.type!=="arrayStart"||!o&&!c?v:Y(Y({},v),{},le({},m.path,1))},{})},h=(0,i.reactive)({translateY:0,visibleData:null,hiddenPaths:p(e.deep,e.collapsedNodeLength),startIndex:0,endIndex:0}),S=[],x=[],V=0,O={},q=function(l){S=Array(l).fill(0).map(function(){return e.itemHeight||20}),(x=new Array(l+1))[0]=0;for(var s=0;s<l;s++)x[s+1]=x[s]+S[s];V=x[l]||0},G=function(l){var s=S.length;l<0&&(l=0),l>s&&(l=s);for(var v=l;v<s;v++)x[v+1]=x[v]+S[v];V=x[s]||0},J=function(l,s){for(var v=0,m=l.length-1;v<m;){var n=v+m>>>1;l[n]<s?v=n+1:m=n}return v},M=(0,i.computed)(function(){for(var l=null,s=[],v=b.value.length,m=0;m<v;m++){var n=Y(Y({},b.value[m]),{},{id:m}),o=h.hiddenPaths[n.path];if(l&&l.path===n.path){var c=l.type==="objectStart",f=Y(Y(Y({},n),l),{},{showComma:n.showComma,content:c?"{...}":"[...]",type:c?"objectCollapsed":"arrayCollapsed"});l=null,s.push(f)}else{if(o&&!l){l=n;continue}if(l)continue;s.push(n)}}return s}),E=(0,i.computed)(function(){var l=e.selectedValue;return l&&e.selectableType==="multiple"&&Array.isArray(l)?l:[l]}),T=(0,i.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),z=(0,i.computed)(function(){return e.dynamicHeight?V||0:M.value.length*e.itemHeight}),W=function l(){var s=M.value;if(s)if(e.virtual){var v,m=((v=N.value)===null||v===void 0?void 0:v.scrollTop)||0;if(e.dynamicHeight){S.length!==s.length&&q(s.length);var n=function(P){var d=J(x,P+1e-4);return Math.max(0,Math.min(d-1,S.length-1))}(m),o=function(P,d){var j=J(x,P+d);return Math.max(0,Math.min(j+1,S.length))}(m,e.height),c=Math.max(0,n-5),f=Math.min(s.length,o+5);h.startIndex=c,h.endIndex=f,h.translateY=x[c]||0,h.visibleData=s.slice(c,f),(0,i.nextTick)().then(function(){for(var P=!1,d=h.startIndex;d<h.endIndex;d++){var j=O[d];if(j){var F=j.offsetHeight;F&&S[d]!==F&&(S[d]=F,x[d+1]=x[d]+S[d],G(d+1),P=!0)}}P&&l()})}else{var u=e.height/e.itemHeight,g=Math.floor(m/e.itemHeight),_=g<0?0:g+u>s.length?s.length-u:g;_<0&&(_=0);var L=_+u;h.translateY=_*e.itemHeight,h.startIndex=_,h.endIndex=L,h.visibleData=s.slice(_,L)}}else h.translateY=0,h.startIndex=0,h.endIndex=s.length,h.visibleData=s},R=null,te=function(){R&&cancelAnimationFrame(R),R=requestAnimationFrame(function(){W()})},k=function(l){var s,v,m=l.path,n=e.selectableType;if(n==="multiple"){var o=E.value.findIndex(function(g){return g===m}),c=ce(E.value);o!==-1?c.splice(o,1):c.push(m),t("update:selectedValue",c),t("selectedChange",c,ce(E.value))}else if(n==="single"&&E.value[0]!==m){var f=(s=E.value,v=1,function(g){if(Array.isArray(g))return g}(s)||function(g,_){var L=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(L!=null){var P,d,j=[],F=!0,oe=!1;try{for(L=L.call(g);!(F=(P=L.next()).done)&&(j.push(P.value),!_||j.length!==_);F=!0);}catch(ie){oe=!0,d=ie}finally{try{F||L.return==null||L.return()}finally{if(oe)throw d}}return j}}(s,v)||Se(s,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],u=m;t("update:selectedValue",u),t("selectedChange",u,f)}},y=function(l){t("nodeClick",l)},w=function(l){t("nodeMouseover",l)},H=function(l,s){if(l)h.hiddenPaths=Y(Y({},h.hiddenPaths),{},le({},s,1));else{var v=Y({},h.hiddenPaths);delete v[s],h.hiddenPaths=v}},I=function(l,s){e.collapsedOnClickBrackets&&H(l,s.path),t("bracketsClick",l,s)},Z=function(l,s){H(l,s.path),t("iconClick",l,s)},D=function(l,s){var v=pe(e.data),m=e.rootPath;new Function("data","val","data".concat(s.slice(m.length),"=val"))(v,l),t("update:data",v)};return(0,i.watchEffect)(function(){T.value&&function(l){throw new Error("[VueJSONPretty] ".concat(l))}(T.value)}),(0,i.watchEffect)(function(){M.value&&(e.virtual&&e.dynamicHeight&&S.length!==M.value.length&&q(M.value.length),W())}),(0,i.watch)(function(){return[e.dynamicHeight,e.itemHeight,b.value.length]},function(){e.virtual&&e.dynamicHeight&&(q(M.value.length),(0,i.nextTick)(W))}),(0,i.watch)(function(){return e.deep},function(l){l&&(h.hiddenPaths=p(l,e.collapsedNodeLength))}),(0,i.watch)(function(){return e.collapsedNodeLength},function(l){l&&(h.hiddenPaths=p(e.deep,l))}),function(){var l,s,v,m,n,o=(l=e.renderNodeKey)!==null&&l!==void 0?l:a.renderNodeKey,c=(s=e.renderNodeValue)!==null&&s!==void 0?s:a.renderNodeValue,f=(v=(m=e.renderNodeActions)!==null&&m!==void 0?m:a.renderNodeActions)!==null&&v!==void 0&&v,u=(n=h.visibleData)===null||n===void 0?void 0:n.map(function(g,_){var L=h.startIndex+_;return(0,i.createVNode)("div",{key:g.id,ref:function(P){return function(d,j){j?O[d]=j:delete O[d]}(L,P||null)}},[(0,i.createVNode)(Je,{data:e.data,rootPath:e.rootPath,indent:e.indent,node:g,collapsed:!!h.hiddenPaths[g.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:E.value.includes(g.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:o,renderNodeValue:c,renderNodeActions:f,onNodeClick:y,onNodeMouseover:w,onBracketsClick:I,onIconClick:Z,onSelectedChange:k,onValueChange:D,class:e.dynamicHeight?"dynamic-height":void 0,style:e.dynamicHeight?{}:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)])});return(0,i.createVNode)("div",{ref:N,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?te:void 0,style:e.showLineNumber?Y({paddingLeft:"".concat(12*Number(b.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,i.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(z.value,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(h.translateY,"px)")}},[u])])]):u])}}});var Qe=je.A;const Ue={class:"json-viewer"},We={key:0,class:"null-value"},Ze={key:1,class:"string-value"},Xe={key:2},et={__name:"JsonViewer",props:{data:{type:[Object,Array,String,Number,Boolean],default:null}},setup(e){const r=e;function t(){const a=typeof r.data=="string"?r.data:JSON.stringify(r.data,null,2);navigator.clipboard.writeText(a).then(()=>{ve.success("已复制")}).catch(()=>{ve.warning("复制失败")})}return(a,N)=>{const b=Q("CopyDocument"),p=Q("el-icon"),h=Q("el-button");return X(),ee("div",Ue,[e.data===null||e.data===void 0?(X(),ee("div",We,"null")):typeof e.data=="string"?(X(),ee("div",Ze,[B("pre",null,K(e.data),1)])):(X(),ee("div",Xe,[C(Be(Qe),{data:e.data,deep:3,showLength:!0,showLine:!0},null,8,["data"])])),C(h,{size:"small",text:"",class:"copy-btn",onClick:t},{default:A(()=>[C(p,null,{default:A(()=>[C(b)]),_:1}),N[0]||(N[0]=$(" 复制 ",-1))]),_:1})])}}},re=_e(et,[["__scopeId","data-v-6adf91bf"]]),tt={class:"page-header",style:{display:"flex","align-items":"center",gap:"12px"}},nt={key:0},rt={class:"content-card",style:{"margin-bottom":"16px"}},ot={key:0,style:{"margin-top":"12px",color:"#f56c6c"}},at={class:"json-section"},lt={class:"json-section"},it={class:"json-section"},ct={class:"json-section"},ut={key:1,class:"content-card",style:{"text-align":"center",padding:"40px",color:"#909399"}},st={__name:"ConversationDetailView",setup(e){const r=He(),t=de({}),a=de(["client_request","kiro_request","kiro_response","client_response"]);function N(b){if(!b)return null;try{return JSON.parse(b)}catch{return b}}return De(async()=>{try{t.value=await Ke.getTrace(r.params.traceId)}catch(b){console.error("加载追踪详情失败",b)}}),(b,p)=>{const h=Q("ArrowLeft"),S=Q("el-icon"),x=Q("el-button"),V=Q("el-tag"),O=Q("el-descriptions-item"),q=Q("el-descriptions"),G=Q("el-collapse-item"),J=Q("el-collapse");return X(),ee("div",null,[B("div",tt,[C(x,{onClick:p[0]||(p[0]=M=>b.$router.back()),text:""},{default:A(()=>[C(S,null,{default:A(()=>[C(h)]),_:1}),p[2]||(p[2]=$("返回",-1))]),_:1}),p[3]||(p[3]=B("h1",null,"对话详情",-1)),t.value.traceId?(X(),Me(V,{key:0,type:t.value.success?"success":"danger"},{default:A(()=>[$(K(t.value.success?"成功":"失败"),1)]),_:1},8,["type"])):ye("",!0)]),t.value.traceId?(X(),ee("div",nt,[B("div",rt,[C(q,{column:3,border:""},{default:A(()=>[C(O,{label:"Trace ID"},{default:A(()=>[$(K(t.value.traceId),1)]),_:1}),C(O,{label:"API 类型"},{default:A(()=>[$(K(t.value.apiType),1)]),_:1}),C(O,{label:"模型"},{default:A(()=>[$(K(t.value.model),1)]),_:1}),C(O,{label:"耗时"},{default:A(()=>[$(K(t.value.durationMs)+"ms",1)]),_:1}),C(O,{label:"输入 Tokens"},{default:A(()=>[$(K(t.value.inputTokens),1)]),_:1}),C(O,{label:"输出 Tokens"},{default:A(()=>[$(K(t.value.outputTokens),1)]),_:1}),C(O,{label:"Credits"},{default:A(()=>[$(K(t.value.credits),1)]),_:1}),C(O,{label:"Kiro 端点"},{default:A(()=>[$(K(t.value.kiroEndpoint),1)]),_:1}),C(O,{label:"Kiro 状态码"},{default:A(()=>[$(K(t.value.kiroStatus),1)]),_:1})]),_:1}),t.value.errorMessage?(X(),ee("div",ot,[p[4]||(p[4]=B("strong",null,"错误信息：",-1)),$(K(t.value.errorMessage),1)])):ye("",!0)]),C(J,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=M=>a.value=M)},{default:A(()=>[C(G,{title:"① 客户端请求",name:"client_request"},{default:A(()=>[B("div",at,[p[5]||(p[5]=B("h4",null,"请求头",-1)),C(re,{data:N(t.value.clientHeaders)},null,8,["data"]),p[6]||(p[6]=B("h4",{style:{"margin-top":"16px"}},"请求体",-1)),C(re,{data:N(t.value.clientRequest)},null,8,["data"])])]),_:1}),C(G,{title:"② Kiro 请求",name:"kiro_request"},{default:A(()=>[B("div",lt,[B("h4",null,"端点: "+K(t.value.kiroEndpoint),1),p[7]||(p[7]=B("h4",{style:{"margin-top":"8px"}},"请求头",-1)),C(re,{data:N(t.value.kiroHeaders)},null,8,["data"]),p[8]||(p[8]=B("h4",{style:{"margin-top":"16px"}},"请求体",-1)),C(re,{data:N(t.value.kiroRequest)},null,8,["data"])])]),_:1}),C(G,{title:"③ Kiro 响应",name:"kiro_response"},{default:A(()=>[B("div",it,[B("h4",null,"状态码: "+K(t.value.kiroStatus),1),p[9]||(p[9]=B("h4",{style:{"margin-top":"16px"}},"事件列表",-1)),C(re,{data:N(t.value.kiroEvents)},null,8,["data"])])]),_:1}),C(G,{title:"④ 客户端响应",name:"client_response"},{default:A(()=>[B("div",ct,[B("h4",null,"状态码: "+K(t.value.clientStatus),1),p[10]||(p[10]=B("h4",{style:{"margin-top":"16px"}},"响应体",-1)),C(re,{data:N(t.value.clientResponse)},null,8,["data"])])]),_:1})]),_:1},8,["modelValue"])])):(X(),ee("div",ut," 加载中... "))])}}},ht=_e(st,[["__scopeId","data-v-bd0b8ba9"]]);export{ht as default};
